import{A as e,B as t,C as n,D as r,E as i,G as a,I as o,K as s,L as c,N as l,O as u,P as d,Q as f,S as p,c as ee,d as te,l as ne,p as m,t as h,v as re,y as g,z as _}from"./index-DtN-fcwp.js";import{b as v}from"./useDarkMode-BFH4b8fl.js";import{b as ie}from"./MegaSearch-8CFJ7-2e.js";import{b as ae}from"./LanguageSwitcher-BGX9PX3v.js";const oe={class:`min-h-screen bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 transition-colors duration-300`},se={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 sticky top-0 z-50 transition-colors duration-300`},ce={class:`w-full px-[2%]`},le={class:`flex justify-between h-16`},ue={class:`flex items-center space-x-4`},y={class:`hidden md:block w-80`},b={key:0,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},x={key:1,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},S={class:`w-full py-8 px-[2%]`},C={class:`w-full`},w={class:`mb-6`},T={key:0,class:`flex justify-center items-center py-12`},E={key:1,class:`bg-red-50 border border-red-200 rounded-lg p-4 mb-6`},D={class:`flex`},O={class:`ml-3`},k={class:`text-sm font-medium text-red-800`},A={key:2},j={class:`mb-8`},M={class:`flex items-center mb-4`},N={class:`text-gray-600`},P={class:`bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden`},F={key:0,class:`mt-1 text-sm text-red-600`},I={key:0,class:`mt-1 text-sm text-red-600`},L={key:0,class:`mt-1 text-sm text-red-600`},de={key:0,class:`mt-1 text-sm text-red-600`},R={class:`flex items-center justify-end space-x-4 pt-6 border-t border-gray-200`},z=[`disabled`],B={key:0,class:`flex items-center`},V={key:1},H={key:0,class:`mt-6 bg-green-50 border border-green-200 rounded-lg p-4`},fe={class:`flex`},pe={class:`ml-3`},me={class:`text-sm font-medium text-green-800`},he={__name:`EditCustomerForm`,setup(he){let U=te(),ge=ee(),W=ne(),{isDarkMode:_e,toggleDarkMode:G}=v(),K=ge.params.id,q=l({full_name:``,cnic_number:``,phone_number:``,address:``}),J=u(null),Y=u(!1),X=u(!1),Z=u({}),Q=u(``),$=u(``);i(async()=>{K?await ve():$.value=`No customer ID provided`});let ve=async()=>{Y.value=!0,$.value=``;try{let e=await m.getCustomer(K),t=e.data.data||e.data;q.full_name=t.full_name||``,q.cnic_number=t.cnic_number||``,q.phone_number=t.phone_number||``,q.address=t.address||``,J.value=t}catch(e){console.error(`Error loading customer:`,e),$.value=`Failed to load customer data. Please try again.`}finally{Y.value=!1}},ye=async()=>{X.value=!0,Z.value={},Q.value=``,$.value=``;try{await m.updateCustomer(K,q),Q.value=`Customer updated successfully!`,setTimeout(()=>{U.push(`/customers`)},2e3)}catch(e){console.error(`Error updating customer:`,e),e.response?.data?.errors?Z.value=e.response.data.errors:$.value=e.response?.data?.message||`Failed to update customer. Please try again.`}finally{X.value=!1}},be=async()=>{try{await W.logout(),U.push(`/login`)}catch(e){console.error(`Logout error:`,e),W.clearAuth(),U.push(`/login`)}};return(i,l)=>{let u=o(`router-link`);return a(),e(`div`,oe,[g(`nav`,se,[g(`div`,ce,[g(`div`,le,[l[12]||=t(`<div class="flex items-center"><div class="flex-shrink-0"><div class="h-8 w-8 bg-gradient-to-r from-gray-800 to-black rounded-lg flex items-center justify-center"><svg class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div></div><div class="ml-3"><h1 class="text-xl font-bold bg-gradient-to-r from-gray-800 to-black dark:from-gray-200 dark:to-white bg-clip-text text-transparent transition-colors duration-300"> A &amp; S Cold Storage </h1></div></div>`,1),g(`div`,ue,[g(`div`,y,[r(ie)]),r(u,{to:`/customers`,class:`text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700`},{default:s(()=>[...l[7]||=[n(` Customers `,-1)]]),_:1}),r(u,{to:`/dashboard`,class:`text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700`},{default:s(()=>[...l[8]||=[n(` Dashboard `,-1)]]),_:1}),r(u,{to:`/profile`,class:`text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200`},{default:s(()=>[...l[9]||=[n(` Profile `,-1)]]),_:1}),g(`button`,{onClick:l[0]||=(...e)=>d(G)&&d(G)(...e),class:`p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200`},[d(_e)?(a(),e(`svg`,x,[...l[11]||=[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z`},null,-1)]])):(a(),e(`svg`,b,[...l[10]||=[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z`},null,-1)]]))]),r(ae),g(`button`,{onClick:be,class:`bg-gradient-to-r from-red-400 to-red-500 hover:from-red-500 hover:to-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105`},` Logout `)])])])]),g(`main`,S,[g(`div`,C,[g(`div`,w,[r(u,{to:`/dashboard`,class:`inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200`},{default:s(()=>[...l[13]||=[g(`svg`,{class:`w-4 h-4 mr-2`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10 19l-7-7m0 0l7-7m-7 7h18`})],-1),n(` Back to Dashboard `,-1)]]),_:1})]),Y.value?(a(),e(`div`,T,[...l[14]||=[g(`div`,{class:`animate-spin rounded-full h-12 w-12 border-b-2 border-gray-600`},null,-1)]])):$.value?(a(),e(`div`,E,[g(`div`,D,[l[15]||=g(`div`,{class:`flex-shrink-0`},[g(`svg`,{class:`h-5 w-5 text-red-400`,viewBox:`0 0 20 20`,fill:`currentColor`},[g(`path`,{"fill-rule":`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z`,"clip-rule":`evenodd`})])],-1),g(`div`,O,[g(`p`,k,p($.value),1)])])])):(a(),e(`div`,A,[g(`div`,j,[g(`div`,M,[g(`button`,{onClick:l[1]||=e=>i.$router.go(-1),class:`mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200`},[...l[16]||=[g(`svg`,{class:`h-6 w-6`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[g(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 19l-7-7 7-7`})],-1)]]),l[17]||=g(`h1`,{class:`text-3xl font-bold text-gray-900`},`Edit Customer`,-1)]),g(`p`,N,`Update customer information for `+p(J.value?.full_name||`this customer`)+`.`,1)]),g(`div`,P,[l[23]||=g(`div`,{class:`px-6 py-4 bg-gradient-to-r from-gray-800 to-black`},[g(`h3`,{class:`text-lg font-semibold text-white`},`Customer Information`)],-1),g(`form`,{onSubmit:re(ye,[`prevent`]),class:`p-6 space-y-6`},[g(`div`,null,[l[18]||=g(`label`,{for:`full_name`,class:`block text-sm font-medium text-gray-700 mb-2`},[n(` Full Name `),g(`span`,{class:`text-red-500`},`*`)],-1),c(g(`input`,{type:`text`,id:`full_name`,"onUpdate:modelValue":l[2]||=e=>q.full_name=e,required:``,class:f([`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200`,{"border-red-500":Z.value.full_name}]),placeholder:`Enter customer's full name`},null,2),[[h,q.full_name]]),Z.value.full_name?(a(),e(`p`,F,p(Z.value.full_name),1)):_(``,!0)]),g(`div`,null,[l[19]||=g(`label`,{for:`cnic_number`,class:`block text-sm font-medium text-gray-700 mb-2`},[n(` CNIC Number `),g(`span`,{class:`text-red-500`},`*`)],-1),c(g(`input`,{type:`text`,id:`cnic_number`,"onUpdate:modelValue":l[3]||=e=>q.cnic_number=e,required:``,class:f([`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200`,{"border-red-500":Z.value.cnic_number}]),placeholder:`12345-1234567-1`},null,2),[[h,q.cnic_number]]),Z.value.cnic_number?(a(),e(`p`,I,p(Z.value.cnic_number),1)):_(``,!0)]),g(`div`,null,[l[20]||=g(`label`,{for:`phone_number`,class:`block text-sm font-medium text-gray-700 mb-2`},[n(` Phone Number `),g(`span`,{class:`text-red-500`},`*`)],-1),c(g(`input`,{type:`tel`,id:`phone_number`,"onUpdate:modelValue":l[4]||=e=>q.phone_number=e,required:``,class:f([`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200`,{"border-red-500":Z.value.phone_number}]),placeholder:`03001234567`},null,2),[[h,q.phone_number]]),Z.value.phone_number?(a(),e(`p`,L,p(Z.value.phone_number),1)):_(``,!0)]),g(`div`,null,[l[21]||=g(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 mb-2`},[n(` Address `),g(`span`,{class:`text-red-500`},`*`)],-1),c(g(`textarea`,{id:`address`,"onUpdate:modelValue":l[5]||=e=>q.address=e,required:``,rows:`4`,class:f([`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors duration-200 resize-none`,{"border-red-500":Z.value.address}]),placeholder:`Enter customer's complete address`},null,2),[[h,q.address]]),Z.value.address?(a(),e(`p`,de,p(Z.value.address),1)):_(``,!0)]),g(`div`,R,[g(`button`,{type:`button`,onClick:l[6]||=e=>i.$router.go(-1),class:`px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors duration-200`},` Cancel `),g(`button`,{type:`submit`,disabled:X.value,class:`px-6 py-3 bg-gradient-to-r from-blue-400 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`},[X.value?(a(),e(`span`,B,[...l[22]||=[g(`svg`,{class:`animate-spin -ml-1 mr-3 h-5 w-5 text-white`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`},[g(`circle`,{class:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,"stroke-width":`4`}),g(`path`,{class:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})],-1),n(` Updating Customer... `,-1)]])):(a(),e(`span`,V,`Update Customer`))],8,z)])],32)]),Q.value?(a(),e(`div`,H,[g(`div`,fe,[l[24]||=g(`div`,{class:`flex-shrink-0`},[g(`svg`,{class:`h-5 w-5 text-green-400`,viewBox:`0 0 20 20`,fill:`currentColor`},[g(`path`,{"fill-rule":`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z`,"clip-rule":`evenodd`})])],-1),g(`div`,pe,[g(`p`,me,p(Q.value),1)])])])):_(``,!0)]))])])])}}};var U=he;export{U as default};