import{B as e,C as t,D as n,E as r,F as i,H as a,J as o,L as s,P as c,T as l,d as u,l as d,z as f}from"./index-BewjDgXt.js";import{b as p}from"./MegaSearch-brGl_kL4.js";import{b as m}from"./LanguageSwitcher-ZKeWbNQ2.js";const h={class:`min-h-screen bg-gray-50`},g={class:`bg-white shadow`},_={class:`w-full px-[2%]`},v={class:`flex justify-between h-16`},y={class:`flex items-center space-x-4`},b={class:`hidden md:block w-80`},x={class:`w-full py-6 px-[2%]`},S={class:`w-full py-6`},C={class:`mb-6`},w={class:`bg-white shadow overflow-hidden sm:rounded-lg`},T={key:0,class:`px-4 py-5 sm:px-6`},E={key:1,class:`px-4 py-5 sm:px-6`},D={class:`rounded-md bg-red-50 p-4`},O={class:`text-sm text-red-700`},k={key:2,class:`border-t border-gray-200`},A={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},j={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},M={class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},N={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},P={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},F={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},I={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},L={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},R={class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},z={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},B={class:`mt-6 flex justify-end space-x-3`},V=[`disabled`],H={__name:`Profile`,setup(H){let U=u(),W=d(),G=c(null),K=c(``),q=c(!1),J=e=>e?new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}):null,Y=async()=>{if(W.userInfo){G.value=W.userInfo;return}q.value=!0,K.value=``;try{let e=await W.getProfile();G.value=e}catch{K.value=W.error||`Failed to load profile`}finally{q.value=!1}},X=async()=>{q.value=!0,K.value=``;try{let e=await W.getProfile();G.value=e}catch{K.value=W.error||`Failed to refresh profile`}finally{q.value=!1}},Z=async()=>{try{await W.logout(),U.push(`/login`)}catch(e){console.error(`Logout error:`,e),W.clearAuth(),U.push(`/login`)}};return i(()=>{Y()}),(i,c)=>{let u=o(`router-link`);return a(),e(`div`,h,[f(`nav`,g,[f(`div`,_,[f(`div`,v,[c[1]||=f(`div`,{class:`flex items-center`},[f(`h1`,{class:`text-xl font-semibold text-gray-900`},`Profile`)],-1),f(`div`,y,[f(`div`,b,[r(p)]),r(m),r(u,{to:`/dashboard`,class:`text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium`},{default:s(()=>[...c[0]||=[n(` Dashboard `,-1)]]),_:1}),f(`button`,{onClick:Z,class:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors`},` Logout `)])])])]),f(`main`,x,[f(`div`,S,[f(`div`,C,[r(u,{to:`/dashboard`,class:`inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200`},{default:s(()=>[...c[2]||=[f(`svg`,{class:`w-4 h-4 mr-2`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[f(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10 19l-7-7m0 0l7-7m-7 7h18`})],-1),n(` Back to Dashboard `,-1)]]),_:1})]),f(`div`,w,[c[10]||=f(`div`,{class:`px-4 py-5 sm:px-6`},[f(`h3`,{class:`text-lg leading-6 font-medium text-gray-900`},`User Profile`),f(`p`,{class:`mt-1 max-w-2xl text-sm text-gray-500`},`Personal information and account details.`)],-1),q.value?(a(),e(`div`,T,[...c[3]||=[t(`<div class="flex items-center justify-center"><svg class="animate-spin h-8 w-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2 text-gray-600">Loading profile...</span></div>`,1)]])):K.value?(a(),e(`div`,E,[f(`div`,D,[f(`div`,O,l(K.value),1)])])):(a(),e(`div`,k,[f(`dl`,null,[f(`div`,A,[c[4]||=f(`dt`,{class:`text-sm font-medium text-gray-500`},`Full name`,-1),f(`dd`,j,l(G.value?.name||`N/A`),1)]),f(`div`,M,[c[5]||=f(`dt`,{class:`text-sm font-medium text-gray-500`},`Email address`,-1),f(`dd`,N,l(G.value?.email||`N/A`),1)]),f(`div`,P,[c[6]||=f(`dt`,{class:`text-sm font-medium text-gray-500`},`User ID`,-1),f(`dd`,F,l(G.value?.id||`N/A`),1)]),c[9]||=f(`div`,{class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},[f(`dt`,{class:`text-sm font-medium text-gray-500`},`Account Status`),f(`dd`,{class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},[f(`span`,{class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800`},` Active `)])],-1),f(`div`,I,[c[7]||=f(`dt`,{class:`text-sm font-medium text-gray-500`},`Member since`,-1),f(`dd`,L,l(J(G.value?.created_at)||`N/A`),1)]),f(`div`,R,[c[8]||=f(`dt`,{class:`text-sm font-medium text-gray-500`},`Last updated`,-1),f(`dd`,z,l(J(G.value?.updated_at)||`N/A`),1)])])]))]),f(`div`,B,[f(`button`,{onClick:X,disabled:q.value,class:`bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50`},l(q.value?`Refreshing...`:`Refresh Profile`),9,V)])])])])}}};var U=H;export{U as default};