import{O as e,m as t,x as n}from"./index-DtN-fcwp.js";const r=e([{id:`cs-date-sequence`,name:`CS-{date}-{sequence}`,description:`Cold Storage - Date - Sequence (e.g., CS-20240904-001)`,example:`CS-20240904-001`},{id:`as-year-sequence`,name:`A&S-{year}-{sequence}`,description:`A & S - Year - Sequence (e.g., A&S-2024-001)`,example:`A&S-2024-001`},{id:`uuid`,name:`UUID`,description:`Universally Unique Identifier (e.g., 550e8400-e29b-41d4-a716-446655440000)`,example:`550e8400-e29b-41d4-a716-446655440000`},{id:`sequential`,name:`CS-{sequence}`,description:`Cold Storage - Sequence (e.g., CS-001)`,example:`CS-001`}]),i=e(`cs-date-sequence`),a=e([]),o=e(!1),s=n(()=>r.value.find(e=>e.id===i.value)),c=async()=>{try{o.value=!0;let e=s.value.name,n=await t.generateBarcode(e);return n.data&&n.data.barcode?(a.value=[n.data.barcode],n.data.barcode):u()}catch(e){return console.warn(`API barcode generation failed, using client-side generation:`,e),u()}finally{o.value=!1}},l=async e=>{try{o.value=!0;let n=s.value.name,r=await t.generateMultiple(e,n);return r.data&&r.data.barcodes?(a.value=r.data.barcodes,r.data.barcodes):d(e)}catch(t){return console.warn(`API barcode generation failed, using client-side generation:`,t),d(e)}finally{o.value=!1}},u=()=>{let e=s.value.name,t=new Date,n=e;if(e.includes(`{date}`)){let e=t.toISOString().slice(0,10).replace(/-/g,``);n=n.replace(`{date}`,e)}if(e.includes(`{year}`)){let e=t.getFullYear();n=n.replace(`{year}`,e)}if(e.includes(`{sequence}`)){let e=f();n=n.replace(`{sequence}`,e.toString().padStart(3,`0`))}return e===`UUID`&&(n=p()),a.value=[n],n},d=e=>{let t=[],n=s.value.name;for(let r=0;r<e;r++){let e=new Date,i=n;if(n.includes(`{date}`)){let t=e.toISOString().slice(0,10).replace(/-/g,``);i=i.replace(`{date}`,t)}if(n.includes(`{year}`)){let t=e.getFullYear();i=i.replace(`{year}`,t)}if(n.includes(`{sequence}`)){let e=f()+r;i=i.replace(`{sequence}`,e.toString().padStart(3,`0`))}n===`UUID`&&(i=p()),t.push(i)}return a.value=t,t},f=()=>{let e=`barcode_sequence_${i.value}`,t=parseInt(localStorage.getItem(e)||`0`);return t++,localStorage.setItem(e,t.toString()),t},p=()=>`xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`.replace(/[xy]/g,function(e){let t=Math.random()*16|0,n=e===`x`?t:t&3|8;return n.toString(16)}),m=()=>{a.value=[]},h=e=>{i.value=e};export{r as b,m as c,s as d,c as e,l as f,a as g,o as h,i,h as j};