import{A as e,B as t,C as n,D as r,E as i,F as a,G as o,H as s,I as c,K as l,O as u,P as d,Q as f,S as p,d as m,e as h,i as g,k as _,l as v,w as y,x as b,y as x,z as S}from"./index-DtN-fcwp.js";import{b as C}from"./useDarkMode-BFH4b8fl.js";import{b as w}from"./LanguageSwitcher-BGX9PX3v.js";import{b as T}from"./BarcodeScannerIntegration-XDh959VY.js";const E={class:`bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700`},D={class:`w-full px-4 sm:px-6 lg:px-8`},O={class:`flex justify-between items-center h-16`},k={class:`flex items-center space-x-4`},A={class:`flex items-center space-x-3`},j={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},M={class:`flex items-center space-x-4`},N={class:`text-sm text-gray-600 dark:text-gray-400`},P={key:0,class:`absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50`},F={key:0,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},I={key:1,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},L={__name:`AppHeader`,props:{title:{type:String,default:`Cold Storage Management`},showBack:{type:Boolean,default:!1}},setup(t){let s=m(),h=v(),{isDarkMode:y,toggleDarkMode:b}=C(),T=h.userInfo,L=u(!1),R=u(null),z=()=>{s.back()},B=()=>{L.value=!L.value},V=()=>{L.value=!1},H=()=>{V(),s.push(`/scanner`)},U=async()=>{try{await h.logout(),s.push(`/login`)}catch(e){console.error(`Logout failed:`,e)}},W=e=>{e.key===`Escape`&&L.value&&V()},G=e=>{R.value&&!R.value.contains(e.target)&&V()};return i(()=>{document.addEventListener(`keydown`,W),document.addEventListener(`click`,G)}),a(()=>{document.removeEventListener(`keydown`,W),document.removeEventListener(`click`,G)}),(i,a)=>{let s=c(`router-link`);return o(),e(`nav`,E,[x(`div`,D,[x(`div`,O,[x(`div`,k,[t.showBack?(o(),e(`button`,{key:0,onClick:z,class:`flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200`},[...a[1]||=[x(`svg`,{class:`w-5 h-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 19l-7-7 7-7`})],-1),x(`span`,null,`Back`,-1)]])):S(``,!0),x(`div`,A,[a[2]||=x(`div`,{class:`h-8 w-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center`},[x(`svg`,{class:`h-5 w-5 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4`})])],-1),x(`h1`,j,p(t.title),1)])]),x(`div`,M,[r(w),x(`div`,null,[x(`span`,N,p(d(_)(`dashboard.welcome`)),1),x(`span`,{class:f([`text-sm font-semibold text-gray-900 dark:text-gray-100 ml-1`,{"rtl:ml-0 rtl:mr-1":d(g)}])},p(d(T)?.name||`User`),3)]),x(`div`,{class:`relative`,ref_key:`userDropdown`,ref:R},[x(`button`,{onClick:B,class:`flex items-center space-x-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-100 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200`},[a[4]||=x(`svg`,{class:`w-5 h-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z`}),x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 12a3 3 0 11-6 0 3 3 0 016 0z`})],-1),a[5]||=x(`span`,null,`Settings`,-1),(o(),e(`svg`,{class:f([`w-4 h-4 transition-transform duration-200`,{"rotate-180":L.value}]),fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[...a[3]||=[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M19 9l-7 7-7-7`},null,-1)]],2))]),L.value?(o(),e(`div`,P,[r(s,{to:`/profile`,onClick:V,class:`flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`},{default:l(()=>[...a[6]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z`})],-1),n(` Profile `,-1)]]),_:1}),r(s,{to:`/storage-reports`,onClick:V,class:`flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`},{default:l(()=>[...a[7]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z`})],-1),n(` Storage Reports `,-1)]]),_:1}),r(s,{to:`/invoices`,onClick:V,class:`flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`},{default:l(()=>[...a[8]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z`})],-1),n(` Invoices `,-1)]]),_:1}),r(s,{to:`/scanner`,onClick:V,class:`flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`},{default:l(()=>[...a[9]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z`})],-1),n(` Scanner `,-1)]]),_:1}),x(`button`,{onClick:H,class:`flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`},[...a[10]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z`})],-1),n(` Scan Barcode `,-1)]]),a[12]||=x(`div`,{class:`border-t border-gray-200 dark:border-gray-700 my-1`},null,-1),x(`button`,{onClick:U,class:`flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200`},[...a[11]||=[x(`svg`,{class:`w-4 h-4 mr-3`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1`})],-1),n(` Logout `,-1)]])])):S(``,!0)],512),x(`button`,{onClick:a[0]||=(...e)=>d(b)&&d(b)(...e),class:`p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200`},[d(y)?(o(),e(`svg`,I,[...a[14]||=[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z`},null,-1)]])):(o(),e(`svg`,F,[...a[13]||=[x(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z`},null,-1)]]))])])])])])}}};var R=h(L,[[`__scopeId`,`data-v-0c060246`]]);const z={class:`barcode-scanner-page`},B={class:`flex-1 p-4 sm:p-6 lg:p-8`},V={class:`max-w-2xl mx-auto`},H={class:`mb-6`},U={key:0,class:`recent-scans-section`},W={class:`scans-grid`},G=[`onClick`],K={class:`scan-code`},q={class:`scan-info`},J={class:`scan-format`},Y={class:`scan-time`},X={class:`stats-section`},Z={class:`stats-grid`},Q={class:`stat-card`},$={class:`stat-value`},ee={class:`stat-card`},te={class:`stat-value`},ne={class:`stat-card`},re={class:`stat-value`},ie={__name:`BarcodeScannerPage`,setup(n){let a=m(),c=u([]),l=b(()=>c.value.length),d=b(()=>{let e=new Date().toDateString();return c.value.filter(t=>new Date(t.timestamp).toDateString()===e).length}),f=b(()=>{let e=new Set(c.value.map(e=>e.code));return e.size}),h=e=>{console.log(`Barcode scanned:`,e),c.value.unshift(e),c.value.length>100&&(c.value=c.value.slice(0,100)),localStorage.setItem(`scannerHistory`,JSON.stringify(c.value)),D(),navigator.vibrate&&navigator.vibrate(200)},g=e=>{console.log(`Searching for barcode:`,e),a.push(`/search?q=${e.code}`)},_=e=>{console.log(`Creating new item with barcode:`,e),a.push(`/batches/new?barcode=${e.code}`)},v=e=>{h(e)},C=()=>{console.log(`Opening scanner for search`)},w=()=>{a.push(`/batches/new`)},E=e=>{let t=Date.now(),n=t-e,r=Math.floor(n/6e4);if(r<1)return`Just now`;if(r<60)return`${r}m ago`;let i=Math.floor(r/60);if(i<24)return`${i}h ago`;let a=Math.floor(i/24);return`${a}d ago`},D=()=>{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),t.start(e.currentTime),t.stop(e.currentTime+.1)};return i(()=>{try{let e=localStorage.getItem(`scannerHistory`);e&&(c.value=JSON.parse(e))}catch(e){console.error(`Failed to load scan history:`,e)}}),(n,i)=>(o(),e(`div`,z,[r(R,{title:`Barcode Scanner`,"show-back":!0}),x(`div`,B,[x(`div`,V,[x(`div`,H,[r(T,{"on-scan":h,"on-search":g,"on-create":_})]),x(`div`,{class:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6`},[x(`button`,{onClick:C,class:`action-card`},[...i[0]||=[t(`<div class="action-icon" data-v-0f81da9c><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-0f81da9c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-0f81da9c></path></svg></div><div class="action-content" data-v-0f81da9c><h3 class="action-title" data-v-0f81da9c>Search Inventory</h3><p class="action-description" data-v-0f81da9c>Find items by barcode</p></div>`,2)]]),x(`button`,{onClick:w,class:`action-card`},[...i[1]||=[t(`<div class="action-icon" data-v-0f81da9c><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-0f81da9c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-0f81da9c></path></svg></div><div class="action-content" data-v-0f81da9c><h3 class="action-title" data-v-0f81da9c>Add New Item</h3><p class="action-description" data-v-0f81da9c>Create new inventory item</p></div>`,2)]])]),c.value.length>0?(o(),e(`div`,U,[i[2]||=x(`h3`,{class:`section-title`},`Recent Scans`,-1),x(`div`,W,[(o(!0),e(y,null,s(c.value.slice(0,6),(t,n)=>(o(),e(`div`,{key:n,onClick:e=>v(t),class:`scan-card`},[x(`div`,K,p(t.code),1),x(`div`,q,[x(`span`,J,p(t.format),1),x(`span`,Y,p(E(t.timestamp)),1)])],8,G))),128))])])):S(``,!0),x(`div`,X,[i[6]||=x(`h3`,{class:`section-title`},`Scan Statistics`,-1),x(`div`,Z,[x(`div`,Q,[x(`div`,$,p(l.value),1),i[3]||=x(`div`,{class:`stat-label`},`Total Scans`,-1)]),x(`div`,ee,[x(`div`,te,p(d.value),1),i[4]||=x(`div`,{class:`stat-label`},`Today`,-1)]),x(`div`,ne,[x(`div`,re,p(f.value),1),i[5]||=x(`div`,{class:`stat-label`},`Unique Codes`,-1)])])])])])]))}};var ae=h(ie,[[`__scopeId`,`data-v-0f81da9c`]]);export{ae as default};