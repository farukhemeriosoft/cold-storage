import{A as e,C as t,E as n,G as r,K as i,N as a,d as o,j as s,u as c,w as l,x as u,y as d,z as f}from"./index-BlF1ZIv-.js";import{b as p}from"./MegaSearch-DluE57NX.js";import{b as m}from"./LanguageSwitcher-BCL_-mgC.js";const h={class:`min-h-screen bg-gray-50`},g={class:`bg-white shadow`},_={class:`w-full px-[2%]`},v={class:`flex justify-between h-16`},y={class:`flex items-center space-x-4`},b={class:`hidden md:block w-80`},x={class:`w-full py-6 px-[2%]`},S={class:`w-full py-6`},C={class:`mb-6`},w={class:`bg-white shadow overflow-hidden sm:rounded-lg`},T={key:0,class:`px-4 py-5 sm:px-6`},E={key:1,class:`px-4 py-5 sm:px-6`},D={class:`rounded-md bg-red-50 p-4`},O={class:`text-sm text-red-700`},k={key:2,class:`border-t border-gray-200`},A={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},j={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},M={class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},N={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},P={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},F={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},I={class:`bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},L={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},R={class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},z={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},B={class:`mt-6 flex justify-end space-x-3`},V=[`disabled`],H={__name:`Profile`,setup(H){let U=o(),W=s(),G=i(null),K=i(``),q=i(!1),J=e=>e?new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}):null,Y=async()=>{if(W.userInfo){G.value=W.userInfo;return}q.value=!0,K.value=``;try{let e=await W.getProfile();G.value=e}catch{K.value=W.error||`Failed to load profile`}finally{q.value=!1}},X=async()=>{q.value=!0,K.value=``;try{let e=await W.getProfile();G.value=e}catch{K.value=W.error||`Failed to refresh profile`}finally{q.value=!1}},Z=async()=>{try{await W.logout(),U.push(`/login`)}catch(e){console.error(`Logout error:`,e),W.clearAuth(),U.push(`/login`)}};return e(()=>{Y()}),(e,i)=>{let o=n(`router-link`);return t(),l(`div`,h,[c(`nav`,g,[c(`div`,_,[c(`div`,v,[i[1]||=c(`div`,{class:`flex items-center`},[c(`h1`,{class:`text-xl font-semibold text-gray-900`},`Profile`)],-1),c(`div`,y,[c(`div`,b,[f(p)]),f(m),f(o,{to:`/dashboard`,class:`text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium`},{default:r(()=>[...i[0]||=[d(` Dashboard `,-1)]]),_:1}),c(`button`,{onClick:Z,class:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors`},` Logout `)])])])]),c(`main`,x,[c(`div`,S,[c(`div`,C,[f(o,{to:`/dashboard`,class:`inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200`},{default:r(()=>[...i[2]||=[c(`svg`,{class:`w-4 h-4 mr-2`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[c(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10 19l-7-7m0 0l7-7m-7 7h18`})],-1),d(` Back to Dashboard `,-1)]]),_:1})]),c(`div`,w,[i[10]||=c(`div`,{class:`px-4 py-5 sm:px-6`},[c(`h3`,{class:`text-lg leading-6 font-medium text-gray-900`},`User Profile`),c(`p`,{class:`mt-1 max-w-2xl text-sm text-gray-500`},`Personal information and account details.`)],-1),q.value?(t(),l(`div`,T,[...i[3]||=[u(`<div class="flex items-center justify-center"><svg class="animate-spin h-8 w-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2 text-gray-600">Loading profile...</span></div>`,1)]])):K.value?(t(),l(`div`,E,[c(`div`,D,[c(`div`,O,a(K.value),1)])])):(t(),l(`div`,k,[c(`dl`,null,[c(`div`,A,[i[4]||=c(`dt`,{class:`text-sm font-medium text-gray-500`},`Full name`,-1),c(`dd`,j,a(G.value?.name||`N/A`),1)]),c(`div`,M,[i[5]||=c(`dt`,{class:`text-sm font-medium text-gray-500`},`Email address`,-1),c(`dd`,N,a(G.value?.email||`N/A`),1)]),c(`div`,P,[i[6]||=c(`dt`,{class:`text-sm font-medium text-gray-500`},`User ID`,-1),c(`dd`,F,a(G.value?.id||`N/A`),1)]),i[9]||=c(`div`,{class:`bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6`},[c(`dt`,{class:`text-sm font-medium text-gray-500`},`Account Status`),c(`dd`,{class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2`},[c(`span`,{class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800`},` Active `)])],-1),c(`div`,I,[i[7]||=c(`dt`,{class:`text-sm font-medium text-gray-500`},`Member since`,-1),c(`dd`,L,a(J(G.value?.created_at)||`N/A`),1)]),c(`div`,R,[i[8]||=c(`dt`,{class:`text-sm font-medium text-gray-500`},`Last updated`,-1),c(`dd`,z,a(J(G.value?.updated_at)||`N/A`),1)])])]))]),c(`div`,B,[c(`button`,{onClick:X,disabled:q.value,class:`bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50`},a(q.value?`Refreshing...`:`Refresh Profile`),9,V)])])])])}}};var U=H;export{U as default};