import{A as e,B as t,C as n,E as r,F as i,H as a,I as o,M as s,P as c,T as l,d as u,e as d,s as f,x as p,y as m,z as h}from"./index-BewjDgXt.js";import{b as g}from"./BarcodeScannerIntegration-OraT0pHr.js";const _={class:`barcode-scanner-page`},v={class:`bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700`},y={class:`w-full px-4 sm:px-6 lg:px-8`},b={class:`flex justify-between items-center h-16`},x={class:`flex-1 p-4 sm:p-6 lg:p-8`},S={class:`max-w-2xl mx-auto`},C={class:`mb-6`},w={key:0,class:`recent-scans-section`},T={class:`scans-grid`},E=[`onClick`],D={class:`scan-code`},O={class:`scan-info`},k={class:`scan-format`},A={class:`scan-time`},j={class:`stats-section`},M={class:`stats-grid`},N={class:`stat-card`},P={class:`stat-value`},F={class:`stat-card`},I={class:`stat-value`},L={class:`stat-card`},ee={class:`stat-value`},R={key:0,class:`settings-panel`},z={class:`settings-content`},B={class:`setting-group`},V={class:`setting-group`},H={class:`setting-group`},U={class:`setting-group`},W={__name:`BarcodeScannerPage`,setup(d){let W=u(),G=c(!1),K=c([]),q=c({autoFocus:!0,soundEnabled:!0,vibrationEnabled:!0,flashlightEnabled:!1}),J=m(()=>K.value.length),Y=m(()=>{let e=new Date().toDateString();return K.value.filter(t=>new Date(t.timestamp).toDateString()===e).length}),X=m(()=>{let e=new Set(K.value.map(e=>e.code));return e.size}),Z=e=>{console.log(`Barcode scanned:`,e),K.value.unshift(e),K.value.length>100&&(K.value=K.value.slice(0,100)),localStorage.setItem(`scannerHistory`,JSON.stringify(K.value)),q.value.soundEnabled&&oe(),q.value.vibrationEnabled&&navigator.vibrate&&navigator.vibrate(200)},Q=e=>{console.log(`Searching for barcode:`,e),W.push(`/search?q=${e.code}`)},$=e=>{console.log(`Creating new item with barcode:`,e),W.push(`/batches/new?barcode=${e.code}`)},te=e=>{Z(e)},ne=()=>{console.log(`Opening scanner for search`)},re=()=>{W.push(`/batches/new`)},ie=()=>{W.back()},ae=e=>{let t=Date.now(),n=t-e,r=Math.floor(n/6e4);if(r<1)return`Just now`;if(r<60)return`${r}m ago`;let i=Math.floor(r/60);if(i<24)return`${i}h ago`;let a=Math.floor(i/24);return`${a}d ago`},oe=()=>{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),t.start(e.currentTime),t.stop(e.currentTime+.1)},se=()=>{confirm(`Are you sure you want to clear all scan history?`)&&(K.value=[],localStorage.removeItem(`scannerHistory`))};return i(()=>{try{let e=localStorage.getItem(`scannerHistory`);e&&(K.value=JSON.parse(e))}catch(e){console.error(`Failed to load scan history:`,e)}try{let e=localStorage.getItem(`scannerSettings`);e&&(q.value={...q.value,...JSON.parse(e)})}catch(e){console.error(`Failed to load settings:`,e)}}),watch(q,e=>{localStorage.setItem(`scannerSettings`,JSON.stringify(e))},{deep:!0}),(i,c)=>(a(),t(`div`,_,[h(`nav`,v,[h(`div`,y,[h(`div`,b,[h(`button`,{onClick:ie,class:`flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200`},[...c[5]||=[h(`svg`,{class:`w-5 h-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[h(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 19l-7-7 7-7`})],-1),h(`span`,null,`Back`,-1)]]),c[7]||=h(`h1`,{class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},` Barcode Scanner `,-1),h(`button`,{onClick:c[0]||=e=>G.value=!G.value,class:`p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200`},[...c[6]||=[h(`svg`,{class:`w-5 h-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[h(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z`}),h(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M15 12a3 3 0 11-6 0 3 3 0 016 0z`})],-1)]])])])]),h(`div`,x,[h(`div`,S,[h(`div`,C,[r(g,{"on-scan":Z,"on-search":Q,"on-create":$})]),h(`div`,{class:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6`},[h(`button`,{onClick:ne,class:`action-card`},[...c[8]||=[n(`<div class="action-icon" data-v-67c4271b><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-67c4271b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-67c4271b></path></svg></div><div class="action-content" data-v-67c4271b><h3 class="action-title" data-v-67c4271b>Search Inventory</h3><p class="action-description" data-v-67c4271b>Find items by barcode</p></div>`,2)]]),h(`button`,{onClick:re,class:`action-card`},[...c[9]||=[n(`<div class="action-icon" data-v-67c4271b><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-67c4271b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-67c4271b></path></svg></div><div class="action-content" data-v-67c4271b><h3 class="action-title" data-v-67c4271b>Add New Item</h3><p class="action-description" data-v-67c4271b>Create new inventory item</p></div>`,2)]])]),K.value.length>0?(a(),t(`div`,w,[c[10]||=h(`h3`,{class:`section-title`},`Recent Scans`,-1),h(`div`,T,[(a(!0),t(p,null,o(K.value.slice(0,6),(e,n)=>(a(),t(`div`,{key:n,onClick:t=>te(e),class:`scan-card`},[h(`div`,D,l(e.code),1),h(`div`,O,[h(`span`,k,l(e.format),1),h(`span`,A,l(ae(e.timestamp)),1)])],8,E))),128))])])):e(``,!0),h(`div`,j,[c[14]||=h(`h3`,{class:`section-title`},`Scan Statistics`,-1),h(`div`,M,[h(`div`,N,[h(`div`,P,l(J.value),1),c[11]||=h(`div`,{class:`stat-label`},`Total Scans`,-1)]),h(`div`,F,[h(`div`,I,l(Y.value),1),c[12]||=h(`div`,{class:`stat-label`},`Today`,-1)]),h(`div`,L,[h(`div`,ee,l(X.value),1),c[13]||=h(`div`,{class:`stat-label`},`Unique Codes`,-1)])])])])]),G.value?(a(),t(`div`,R,[h(`div`,z,[c[19]||=h(`h3`,{class:`settings-title`},`Scanner Settings`,-1),h(`div`,B,[c[15]||=h(`label`,{class:`setting-label`},`Auto-focus`,-1),s(h(`input`,{"onUpdate:modelValue":c[1]||=e=>q.value.autoFocus=e,type:`checkbox`,class:`setting-checkbox`},null,512),[[f,q.value.autoFocus]])]),h(`div`,V,[c[16]||=h(`label`,{class:`setting-label`},`Sound on scan`,-1),s(h(`input`,{"onUpdate:modelValue":c[2]||=e=>q.value.soundEnabled=e,type:`checkbox`,class:`setting-checkbox`},null,512),[[f,q.value.soundEnabled]])]),h(`div`,H,[c[17]||=h(`label`,{class:`setting-label`},`Vibration on scan`,-1),s(h(`input`,{"onUpdate:modelValue":c[3]||=e=>q.value.vibrationEnabled=e,type:`checkbox`,class:`setting-checkbox`},null,512),[[f,q.value.vibrationEnabled]])]),h(`div`,U,[c[18]||=h(`label`,{class:`setting-label`},`Flashlight`,-1),s(h(`input`,{"onUpdate:modelValue":c[4]||=e=>q.value.flashlightEnabled=e,type:`checkbox`,class:`setting-checkbox`},null,512),[[f,q.value.flashlightEnabled]])]),h(`button`,{onClick:se,class:`clear-button`},` Clear Scan History `)])])):e(``,!0)]))}};var G=d(W,[[`__scopeId`,`data-v-67c4271b`]]);export{G as default};