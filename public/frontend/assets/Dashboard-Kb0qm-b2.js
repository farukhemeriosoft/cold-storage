import{B as e,D as t,E as n,G as r,H as i,J as a,L as o,M as s,N as c,P as l,T as u,U as d,V as f,X as p,d as m,e as h,f as g,i as _,k as v,l as y,o as ee,p as te,z as b}from"./index-BVLw4TQv.js";import{b as x}from"./AppHeader-C9Ya2WuS.js";import"./LanguageSwitcher-BXvKoB3n.js";const S={key:0,class:`offline-sync-status`},C={class:`sync-card`},w={class:`sync-header`},T={class:`sync-info`},E={class:`text-sm text-gray-600 dark:text-gray-400`},D=[`disabled`],O={key:0,class:`w-4 h-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},k={key:1,class:`w-4 h-4 animate-spin`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},A={key:0,class:`sync-details`},j={class:`operations-list`},M={class:`operation-info`},N={class:`operation-type`},P={class:`operation-time`},F={key:0,class:`more-operations`},I={__name:`OfflineSyncStatus`,setup(i){let{pendingOperations:a,syncPendingOperations:c}=g(),l=u(!1),m=u(!1),h=async()=>{if(!l.value){l.value=!0;try{await c()}catch(e){console.error(`Sync failed:`,e)}finally{l.value=!1}}},_=()=>{m.value=!m.value},v=e=>{let t=e.method?.toUpperCase()||`GET`,n=e.url||``;return n.includes(`/customers`)?t===`POST`?`Add Customer`:t===`PUT`?`Update Customer`:`Customer Operation`:n.includes(`/batches`)?t===`POST`?`Add Lot`:t===`PUT`?`Update Lot`:`Lot Operation`:n.includes(`/baskets`)?t===`POST`?`Add Basket`:t===`PUT`?`Update Basket`:`Basket Operation`:n.includes(`/invoices`)?t===`POST`?`Process Payment`:`Invoice Operation`:`${t} Request`},y=e=>{let t=Date.now(),n=t-e,r=Math.floor(n/6e4);if(r<1)return`Just now`;if(r<60)return`${r}m ago`;let i=Math.floor(r/60);if(i<24)return`${i}h ago`;let a=Math.floor(i/24);return`${a}d ago`};return(i,c)=>d(a).length>0?(o(),n(`div`,S,[e(`div`,C,[e(`div`,w,[c[3]||=e(`div`,{class:`sync-icon`},[e(`svg`,{class:`w-5 h-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15`})])],-1),e(`div`,T,[c[0]||=e(`h3`,{class:`font-semibold text-gray-900 dark:text-gray-100`},`Pending Sync`,-1),e(`p`,E,p(d(a).length)+` operations waiting to sync `,1)]),e(`button`,{onClick:h,disabled:l.value,class:f([`sync-button`,{"opacity-50 cursor-not-allowed":l.value}])},[l.value?(o(),n(`svg`,k,[...c[2]||=[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15`},null,-1)]])):(o(),n(`svg`,O,[...c[1]||=[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15`},null,-1)]])),r(` `+p(l.value?`Syncing...`:`Sync Now`),1)],10,D)]),m.value?(o(),n(`div`,A,[e(`div`,j,[(o(!0),n(b,null,s(d(a).slice(0,5),t=>(o(),n(`div`,{key:t.id,class:`operation-item`},[e(`div`,M,[e(`span`,N,p(v(t)),1),e(`span`,P,p(y(t.timestamp)),1)]),c[4]||=e(`div`,{class:`operation-status`},[e(`span`,{class:`status-badge`},`Pending`)],-1)]))),128)),d(a).length>5?(o(),n(`div`,F,` +`+p(d(a).length-5)+` more operations `,1)):t(``,!0)])])):t(``,!0),e(`button`,{onClick:_,class:`toggle-details`},[r(p(m.value?`Hide Details`:`Show Details`)+` `,1),(o(),n(`svg`,{class:f([`w-4 h-4 transition-transform duration-200`,{"rotate-180":m.value}]),fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[...c[5]||=[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M19 9l-7 7-7-7`},null,-1)]],2))])])])):t(``,!0)}};var L=h(I,[[`__scopeId`,`data-v-e8e68198`]]);const R={class:`min-h-screen bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 transition-colors duration-300 flex flex-col`},z={class:`w-full py-4 sm:py-8 px-4 sm:px-6 lg:px-8 flex-1`},B={class:`w-full`},V={class:`mb-8`},H={class:`text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2`},U={class:`text-gray-600 dark:text-gray-400`},W={class:`grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8`},G={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-all duration-300`},K={class:`flex items-center`},q={class:`text-sm font-medium text-gray-600 dark:text-gray-400`},J={class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},Y={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-all duration-300`},X={class:`flex items-center`},Z={class:`text-sm font-medium text-gray-600 dark:text-gray-400`},Q={class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},ne={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-all duration-300`},re={class:`flex items-center`},ie={class:`text-sm font-medium text-gray-600 dark:text-gray-400`},ae={class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},oe={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6 hover:shadow-xl transition-all duration-300`},se={class:`flex items-center`},ce={class:`text-sm font-medium text-gray-600 dark:text-gray-400`},le={class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},ue={class:`grid grid-cols-1 lg:grid-cols-3 gap-8`},de={class:`lg:col-span-1`},fe={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 overflow-hidden transition-colors duration-300`},pe={class:`px-6 py-4 bg-gradient-to-r from-gray-800 to-black`},me={class:`text-lg font-semibold text-white`},he={class:`p-6`},ge={class:`space-y-4`},_e={class:`text-sm font-medium text-gray-500 dark:text-gray-400`},ve={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 font-semibold`},ye={class:`text-sm font-medium text-gray-500 dark:text-gray-400`},be={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},xe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 font-mono`},Se={class:`text-sm font-medium text-gray-500 dark:text-gray-400`},Ce={class:`mt-1`},we={class:`inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800`},Te={class:`lg:col-span-2`},Ee={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 overflow-hidden transition-colors duration-300`},De={class:`px-6 py-4 bg-gradient-to-r from-gray-800 to-black`},Oe={class:`text-lg font-semibold text-white`},ke={class:`p-6`},Ae={class:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`},je={class:`flex items-center`},Me={class:`font-semibold`},Ne={class:`text-sm opacity-90`},Pe={class:`flex items-center`},$={class:`text-sm opacity-90`},Fe={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-t border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300 mt-auto`},Ie={class:`w-full px-[2%] py-6`},Le={class:`flex flex-col items-center justify-center space-y-2`},Re={class:`flex items-center space-x-2`},ze={class:`text-sm text-gray-600 dark:text-gray-400`},Be={__name:`Dashboard`,setup(t){m();let s=y(),h=s.userInfo,g=u(0),b=u(0),S=u(0),C=u(94);a(async()=>{await w()});let w=async()=>{try{let e=await te.getCustomers(1),t=e.data.data||e.data;b.value=t.total||t.length||0;let n=[],r=1,i=!0;for(;i;){let e=await ee.getBatches(r),t=e.data.data||e.data,a=[];t.data?(a=t.data,i=r<t.last_page):Array.isArray(t)?(a=t,i=!1):(a=[t],i=!1),n=n.concat(a),r++}let a=0,o=0,s=new Date;n.forEach(e=>{let t=e.baskets_count||e.baskets?.length||e.total_baskets||e.basket_count||(e.baskets&&Array.isArray(e.baskets)?e.baskets.length:0)||0;a+=t;let n=new Date(e.created_at),r=(s.getFullYear()-n.getFullYear())*12+(s.getMonth()-n.getMonth());r>=10&&(o+=t)}),g.value=a,S.value=o}catch(e){console.error(`Error loading dashboard stats:`,e)}};return(t,a)=>{let s=c(`router-link`);return o(),n(`div`,R,[i(x),e(`main`,z,[e(`div`,B,[e(`div`,V,[e(`h1`,H,p(d(v)(`dashboard.welcome`))+` `+p(d(h)?.name||`User`)+`!`,1),e(`p`,U,p(d(v)(`dashboard.subtitle`)),1)]),i(L),e(`div`,W,[e(`div`,G,[e(`div`,K,[a[0]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`h-12 w-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl flex items-center justify-center`},[e(`svg`,{class:`h-6 w-6 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4`})])])],-1),e(`div`,{class:f([`ml-4`,{"rtl:ml-0 rtl:mr-4":d(_)}])},[e(`p`,q,p(d(v)(`dashboard.totalBaskets`)),1),e(`p`,J,p(g.value.toLocaleString()),1)],2)])]),e(`div`,Y,[e(`div`,X,[a[1]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`h-12 w-12 bg-gradient-to-r from-green-400 to-green-500 rounded-xl flex items-center justify-center`},[e(`svg`,{class:`h-6 w-6 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),e(`div`,{class:f([`ml-4`,{"rtl:ml-0 rtl:mr-4":d(_)}])},[e(`p`,Z,p(d(v)(`dashboard.activeCustomers`)),1),e(`p`,Q,p(b.value.toLocaleString()),1)],2)])]),e(`div`,ne,[e(`div`,re,[a[2]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`h-12 w-12 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl flex items-center justify-center`},[e(`svg`,{class:`h-6 w-6 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),e(`div`,{class:f([`ml-4`,{"rtl:ml-0 rtl:mr-4":d(_)}])},[e(`p`,ie,p(d(v)(`dashboard.expiringSoon`)),1),e(`p`,ae,p(S.value.toLocaleString()),1)],2)])]),e(`div`,oe,[e(`div`,se,[a[3]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`h-12 w-12 bg-gradient-to-r from-purple-400 to-purple-500 rounded-xl flex items-center justify-center`},[e(`svg`,{class:`h-6 w-6 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13 7h8m0 0v8m0-8l-8 8-4-4-6 6`})])])],-1),e(`div`,{class:f([`ml-4`,{"rtl:ml-0 rtl:mr-4":d(_)}])},[e(`p`,ce,p(d(v)(`dashboard.efficiency`)),1),e(`p`,le,p(C.value)+`%`,1)],2)])])]),e(`div`,ue,[e(`div`,de,[e(`div`,fe,[e(`div`,pe,[e(`h3`,me,p(d(v)(`profile.title`)),1)]),e(`div`,he,[e(`div`,ge,[e(`div`,null,[e(`dt`,_e,p(d(v)(`profile.name`)),1),e(`dd`,ve,p(d(h)?.name||`N/A`),1)]),e(`div`,null,[e(`dt`,ye,p(d(v)(`profile.email`)),1),e(`dd`,be,p(d(h)?.email||`N/A`),1)]),e(`div`,null,[a[4]||=e(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`User ID`,-1),e(`dd`,xe,p(d(h)?.id||`N/A`),1)]),e(`div`,null,[e(`dt`,Se,p(d(v)(`dashboard.accountStatus`)),1),e(`dd`,Ce,[e(`span`,we,[a[5]||=e(`svg`,{class:`w-3 h-3 mr-1`,fill:`currentColor`,viewBox:`0 0 20 20`},[e(`path`,{"fill-rule":`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z`,"clip-rule":`evenodd`})],-1),r(` `+p(d(v)(`dashboard.active`)),1)])])])])])])]),e(`div`,Te,[e(`div`,Ee,[e(`div`,De,[e(`h3`,Oe,p(d(v)(`dashboard.quickActions`)),1)]),e(`div`,ke,[e(`div`,Ae,[i(s,{to:`/customers`,class:`group relative p-6 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl text-white hover:from-blue-500 hover:to-blue-600 transition-all duration-300 transform hover:scale-105`},{default:l(()=>[e(`div`,je,[a[6]||=e(`svg`,{class:`h-8 w-8 mr-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z`})],-1),e(`div`,null,[e(`p`,Me,p(d(v)(`dashboard.viewCustomers`)),1),e(`p`,Ne,p(d(v)(`nav.customers`)),1)])])]),_:1}),i(s,{to:`/batches`,class:`group relative p-6 bg-gradient-to-r from-purple-400 to-purple-500 rounded-xl text-white hover:from-purple-500 hover:to-purple-600 transition-all duration-300 transform hover:scale-105`},{default:l(()=>[e(`div`,Pe,[a[8]||=e(`svg`,{class:`h-8 w-8 mr-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z`})],-1),e(`div`,null,[a[7]||=e(`p`,{class:`font-semibold`},`Manage Lots`,-1),e(`p`,$,p(d(v)(`nav.batches`)),1)])])]),_:1}),i(s,{to:`/barcode-demo`,class:`group relative p-6 bg-gradient-to-r from-purple-400 to-purple-500 rounded-xl text-white hover:from-purple-500 hover:to-purple-600 transition-all duration-300 transform hover:scale-105`},{default:l(()=>[...a[9]||=[e(`div`,{class:`flex items-center`},[e(`svg`,{class:`h-8 w-8 mr-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h3a1 1 0 110 2h-1v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6H4a1 1 0 110-2h3zM9 6v10h6V6H9z`})]),e(`div`,null,[e(`p`,{class:`font-semibold`},`Barcode Generator`),e(`p`,{class:`text-sm opacity-90`},`Auto-generate barcodes`)])],-1)]]),_:1}),i(s,{to:`/invoices`,class:`group relative p-6 bg-gradient-to-r from-green-400 to-green-500 rounded-xl text-white hover:from-green-500 hover:to-green-600 transition-all duration-300 transform hover:scale-105`},{default:l(()=>[...a[10]||=[e(`div`,{class:`flex items-center`},[e(`svg`,{class:`h-8 w-8 mr-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z`})]),e(`div`,null,[e(`p`,{class:`font-semibold`},`Invoice Management`),e(`p`,{class:`text-sm opacity-90`},`Manage payments & invoices`)])],-1)]]),_:1}),i(s,{to:`/storage-reports`,class:`group relative p-6 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-xl text-white hover:from-indigo-500 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105`},{default:l(()=>[...a[11]||=[e(`div`,{class:`flex items-center`},[e(`svg`,{class:`h-8 w-8 mr-4`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z`})]),e(`div`,null,[e(`p`,{class:`font-semibold`},`Storage Reports`),e(`p`,{class:`text-sm opacity-90`},`Analytics & Utilization`)])],-1)]]),_:1})])])])])])])]),e(`footer`,Fe,[e(`div`,Ie,[e(`div`,Le,[e(`div`,Re,[a[12]||=e(`div`,{class:`h-6 w-6 bg-gradient-to-r from-gray-800 to-black rounded-md flex items-center justify-center`},[e(`svg`,{class:`h-4 w-4 text-white`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4`})])],-1),e(`span`,ze,p(d(v)(`dashboard.poweredBy`)),1)]),a[13]||=e(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},`© 2024 A & S Cold Storage Management System. All rights reserved.`,-1)])])])])}}};var Ve=Be;export{Ve as default};