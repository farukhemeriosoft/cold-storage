import{B as e,D as t,E as n,F as r,H as ee,J as te,L as i,M as a,T as o,V as s,W as c,X as l,t as u,z as d}from"./index-BVLw4TQv.js";import{b as ne}from"./AppHeader-C9Ya2WuS.js";import"./LanguageSwitcher-BXvKoB3n.js";const re={class:`min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col`},ie={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},ae={key:0,class:`mb-8`},oe={class:`grid gap-4`},se={class:`flex items-start`},ce={class:`flex-shrink-0`},f={key:0,class:`h-5 w-5 text-red-400`,fill:`currentColor`,viewBox:`0 0 20 20`},p={key:1,class:`h-5 w-5 text-yellow-400`,fill:`currentColor`,viewBox:`0 0 20 20`},m={class:`ml-3`},h={class:`text-sm font-medium text-gray-900 dark:text-white`},g={class:`mt-1 text-sm text-gray-600 dark:text-gray-400`},_={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8`},v={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},y={class:`flex items-center`},b={class:`ml-4`},x={class:`text-2xl font-semibold text-gray-900 dark:text-white`},S={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},C={class:`flex items-center`},w={class:`ml-4`},T={class:`text-2xl font-semibold text-gray-900 dark:text-white`},E={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},D={class:`flex items-center`},O={class:`ml-4`},k={class:`text-2xl font-semibold text-gray-900 dark:text-white`},A={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},j={class:`flex items-center`},M={class:`flex-shrink-0`},N={class:`ml-4`},P={class:`text-2xl font-semibold text-gray-900 dark:text-white`},F={class:`grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8`},I={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},L={class:`space-y-4`},R={class:`flex justify-between items-center`},z={class:`text-sm font-medium text-gray-700 dark:text-gray-300`},B={class:`text-sm text-gray-600 dark:text-gray-400`},V={class:`w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2`},H={class:`flex justify-between text-xs text-gray-500 dark:text-gray-400`},U={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},W={class:`h-64 flex items-end space-x-2`},G={class:`w-full bg-gray-200 dark:bg-gray-700 rounded-t`,style:{height:`200px`}},le={class:`mt-2 text-xs text-gray-600 dark:text-gray-400 text-center`},ue={class:`font-medium`},de={class:`bg-white dark:bg-gray-800 rounded-lg shadow`},fe={class:`p-6`},pe={class:`space-y-6`},me={class:`flex justify-between items-start mb-4`},he={class:`text-lg font-semibold text-gray-900 dark:text-white`},ge={class:`text-sm text-gray-600 dark:text-gray-400`},_e={class:`text-right`},ve={class:`text-xs text-gray-500 dark:text-gray-400`},ye={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4`},be={class:`text-sm font-medium text-gray-900 dark:text-white mb-2`},xe={class:`space-y-2`},Se={class:`flex justify-between text-xs text-gray-600 dark:text-gray-400`},Ce={class:`w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1`},we={class:`text-xs text-gray-500 dark:text-gray-400`},Te={key:0,class:`mt-4`},Ee={class:`space-y-2`},De={class:`text-gray-900 dark:text-white`},Oe={class:`text-gray-600 dark:text-gray-400`},ke={class:`text-gray-500 dark:text-gray-400`},Ae={class:`text-gray-500 dark:text-gray-400`},je={__name:`StorageUtilizationReport`,setup(je){let K=o(!1),q=o({}),J=o([]),Y=o([]),X=o([]);te(async()=>{await Me()});let Me=async()=>{K.value=!0;try{await Promise.all([Z(),Ne(),Pe(),Fe()])}catch(e){console.error(`Error loading utilization data:`,e)}finally{K.value=!1}},Z=async()=>{try{let e=await u.getOverallUtilization();q.value=e.data.data.overall}catch(e){console.error(`Error loading overall utilization:`,e)}},Ne=async()=>{try{let e=await u.getRoomUtilization();J.value=e.data.data}catch(e){console.error(`Error loading room utilization:`,e)}},Pe=async()=>{try{let e=await u.getUtilizationTrends();Y.value=e.data.data}catch(e){console.error(`Error loading utilization trends:`,e)}},Fe=async()=>{try{let e=await u.getCapacityAlerts();X.value=e.data.data.alerts}catch(e){console.error(`Error loading capacity alerts:`,e)}},Ie=e=>e>=90?`bg-red-100 dark:bg-red-900`:e>=80?`bg-yellow-100 dark:bg-yellow-900`:e>=50?`bg-green-100 dark:bg-green-900`:`bg-gray-100 dark:bg-gray-900`,Le=e=>e>=90?`text-red-600 dark:text-red-400`:e>=80?`text-yellow-600 dark:text-yellow-400`:e>=50?`text-green-600 dark:text-green-400`:`text-gray-600 dark:text-gray-400`,Q=e=>e>=90?`bg-red-500`:e>=80?`bg-yellow-500`:e>=50?`bg-green-500`:`bg-blue-500`,$=e=>e>=90?`text-red-600 dark:text-red-400`:e>=80?`text-yellow-600 dark:text-yellow-400`:e>=50?`text-green-600 dark:text-green-400`:`text-gray-600 dark:text-gray-400`,Re=e=>e>=90?`Critical`:e>=80?`Warning`:e>=50?`Good`:`Low`;return(te,o)=>(i(),n(`div`,re,[ee(ne,{"show-back":!0}),e(`div`,ie,[X.value.length>0?(i(),n(`div`,ae,[o[2]||=e(`h2`,{class:`text-xl font-semibold text-gray-900 dark:text-white mb-4`},`Capacity Alerts`,-1),e(`div`,oe,[(i(!0),n(d,null,a(X.value,t=>(i(),n(`div`,{key:`${t.room_id}-${t.zone_id||`room`}`,class:s([`p-4 rounded-lg border-l-4`,t.type===`critical`?`bg-red-50 border-red-400 dark:bg-red-900/20 dark:border-red-500`:`bg-yellow-50 border-yellow-400 dark:bg-yellow-900/20 dark:border-yellow-500`])},[e(`div`,se,[e(`div`,ce,[t.type===`critical`?(i(),n(`svg`,f,[...o[0]||=[e(`path`,{"fill-rule":`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z`,"clip-rule":`evenodd`},null,-1)]])):(i(),n(`svg`,p,[...o[1]||=[e(`path`,{"fill-rule":`evenodd`,d:`M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z`,"clip-rule":`evenodd`},null,-1)]]))]),e(`div`,m,[e(`p`,h,l(t.message),1),e(`p`,g,` Available space: `+l(t.available_space.toLocaleString())+` baskets `,1)])])],2))),128))])])):t(``,!0),e(`div`,_,[e(`div`,v,[e(`div`,y,[o[4]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-md flex items-center justify-center`},[e(`svg`,{class:`w-5 h-5 text-blue-600 dark:text-blue-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4`})])])],-1),e(`div`,b,[o[3]||=e(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Total Capacity`,-1),e(`p`,x,l(q.value.total_capacity?.toLocaleString()||0),1)])])]),e(`div`,S,[e(`div`,C,[o[6]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`w-8 h-8 bg-green-100 dark:bg-green-900 rounded-md flex items-center justify-center`},[e(`svg`,{class:`w-5 h-5 text-green-600 dark:text-green-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),e(`div`,w,[o[5]||=e(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Used Space`,-1),e(`p`,T,l(q.value.total_used?.toLocaleString()||0),1)])])]),e(`div`,E,[e(`div`,D,[o[8]||=e(`div`,{class:`flex-shrink-0`},[e(`div`,{class:`w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-md flex items-center justify-center`},[e(`svg`,{class:`w-5 h-5 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),e(`div`,O,[o[7]||=e(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Available Space`,-1),e(`p`,k,l(q.value.total_available?.toLocaleString()||0),1)])])]),e(`div`,A,[e(`div`,j,[e(`div`,M,[e(`div`,{class:s([`w-8 h-8 rounded-md flex items-center justify-center`,Ie(q.value.utilization_percentage)])},[(i(),n(`svg`,{class:s([`w-5 h-5`,Le(q.value.utilization_percentage)]),fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[...o[9]||=[e(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z`},null,-1)]],2))],2)]),e(`div`,N,[o[10]||=e(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Utilization`,-1),e(`p`,P,l(q.value.utilization_percentage||0)+`% `,1)])])])]),e(`div`,F,[e(`div`,I,[o[11]||=e(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white mb-4`},`Room Utilization`,-1),e(`div`,L,[(i(!0),n(d,null,a(J.value,t=>(i(),n(`div`,{key:t.room_id,class:`space-y-2`},[e(`div`,R,[e(`span`,z,l(t.room_name)+` (`+l(t.room_code)+`) `,1),e(`span`,B,l(t.used.toLocaleString())+` / `+l(t.capacity.toLocaleString()),1)]),e(`div`,V,[e(`div`,{class:s([Q(t.utilization_percentage),`h-2 rounded-full transition-all duration-300`]),style:c({width:`${t.utilization_percentage}%`})},null,6)]),e(`div`,H,[e(`span`,null,l(t.utilization_percentage)+`% utilized`,1),e(`span`,{class:s($(t.utilization_percentage))},l(Re(t.utilization_percentage)),3)])]))),128))])]),e(`div`,U,[o[12]||=e(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white mb-4`},`Utilization Trends (12 Months)`,-1),e(`div`,W,[(i(!0),n(d,null,a(Y.value,t=>(i(),n(`div`,{key:t.month,class:`flex-1 flex flex-col items-center`},[e(`div`,G,[e(`div`,{class:s([Q(t.utilization_percentage),`w-full rounded-t transition-all duration-300`]),style:c({height:`${t.utilization_percentage/100*200}px`})},null,6)]),e(`div`,le,[e(`div`,null,l(t.month_name),1),e(`div`,ue,l(t.utilization_percentage)+`%`,1)])]))),128))])])]),e(`div`,de,[o[14]||=e(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[e(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white`},`Detailed Room Analysis`)],-1),e(`div`,fe,[e(`div`,pe,[(i(!0),n(d,null,a(J.value,r=>(i(),n(`div`,{key:r.room_id,class:`border border-gray-200 dark:border-gray-700 rounded-lg p-4`},[e(`div`,me,[e(`div`,null,[e(`h4`,he,l(r.room_name)+` (`+l(r.room_code)+`) `,1),e(`p`,ge,l(r.total_batches)+` batches • `+l(r.total_baskets)+` baskets `,1)]),e(`div`,_e,[e(`div`,{class:s([$(r.utilization_percentage),`text-sm font-medium`])},l(r.utilization_percentage)+`% utilized `,3),e(`div`,ve,l(r.available.toLocaleString())+` available `,1)])]),e(`div`,ye,[(i(!0),n(d,null,a(r.floors,t=>(i(),n(`div`,{key:t.floor_id,class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-3`},[e(`div`,be,` Floor `+l(t.floor_number),1),e(`div`,xe,[e(`div`,Se,[e(`span`,null,`Used: `+l(t.used.toLocaleString()),1),e(`span`,null,l(t.utilization_percentage)+`%`,1)]),e(`div`,Ce,[e(`div`,{class:s([Q(t.utilization_percentage),`h-1 rounded-full`]),style:c({width:`${t.utilization_percentage}%`})},null,6)]),e(`div`,we,` Zones: `+l(t.zones.length),1)])]))),128))]),r.recent_batches&&r.recent_batches.length>0?(i(),n(`div`,Te,[o[13]||=e(`h5`,{class:`text-sm font-medium text-gray-900 dark:text-white mb-2`},`Recent Batches`,-1),e(`div`,Ee,[(i(!0),n(d,null,a(r.recent_batches.slice(0,3),t=>(i(),n(`div`,{key:t.batch_id,class:`flex justify-between items-center text-xs bg-gray-50 dark:bg-gray-700 rounded px-3 py-2`},[e(`span`,De,`#`+l(t.batch_id),1),e(`span`,Oe,l(t.customer_name),1),e(`span`,ke,l(t.baskets_count)+` baskets`,1),e(`span`,Ae,l(t.created_at),1)]))),128))])])):t(``,!0)]))),128))])])])]),o[15]||=r(`<footer class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-t border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300 mt-auto"><div class="w-full px-[2%] py-6"><div class="flex flex-col items-center justify-center space-y-2"><div class="flex items-center space-x-2"><div class="h-6 w-6 bg-gradient-to-r from-gray-800 to-black rounded-md flex items-center justify-center"><svg class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><span class="text-sm text-gray-600 dark:text-gray-400">Powered by A &amp; S Cold Storage Management System</span></div><p class="text-xs text-gray-500 dark:text-gray-400">© 2024 A &amp; S Cold Storage Management System. All rights reserved.</p></div></div></footer>`,1)]))}};var K=je;export{K as default};