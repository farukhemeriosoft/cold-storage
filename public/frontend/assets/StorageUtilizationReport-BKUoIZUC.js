import{A as e,B as t,C as n,D as r,E as ee,F as te,H as i,I as a,J as ne,L as re,P as o,Q as s,R as c,S as l,T as u,i as d,r as f,x as p,z as m}from"./index-BewjDgXt.js";import{b as ie}from"./useDarkMode-v5Dqi2be.js";const ae={class:`min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col`},oe={class:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300`},se={class:`w-full px-[2%] py-4`},ce={class:`flex items-center justify-between`},le=[`disabled`],ue={key:0,class:`animate-spin -ml-1 mr-2 h-4 w-4 text-white`,fill:`none`,viewBox:`0 0 24 24`},de={key:1,class:`w-4 h-4 mr-2`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},h={key:0,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},g={key:1,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},_={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},v={key:0,class:`mb-8`},y={class:`grid gap-4`},b={class:`flex items-start`},x={class:`flex-shrink-0`},S={key:0,class:`h-5 w-5 text-red-400`,fill:`currentColor`,viewBox:`0 0 20 20`},C={key:1,class:`h-5 w-5 text-yellow-400`,fill:`currentColor`,viewBox:`0 0 20 20`},w={class:`ml-3`},T={class:`text-sm font-medium text-gray-900 dark:text-white`},E={class:`mt-1 text-sm text-gray-600 dark:text-gray-400`},D={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8`},O={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},k={class:`flex items-center`},A={class:`ml-4`},j={class:`text-2xl font-semibold text-gray-900 dark:text-white`},M={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},N={class:`flex items-center`},P={class:`ml-4`},F={class:`text-2xl font-semibold text-gray-900 dark:text-white`},I={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},L={class:`flex items-center`},R={class:`ml-4`},z={class:`text-2xl font-semibold text-gray-900 dark:text-white`},B={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},V={class:`flex items-center`},H={class:`flex-shrink-0`},fe={class:`ml-4`},pe={class:`text-2xl font-semibold text-gray-900 dark:text-white`},me={class:`grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8`},he={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},ge={class:`space-y-4`},_e={class:`flex justify-between items-center`},ve={class:`text-sm font-medium text-gray-700 dark:text-gray-300`},ye={class:`text-sm text-gray-600 dark:text-gray-400`},be={class:`w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2`},xe={class:`flex justify-between text-xs text-gray-500 dark:text-gray-400`},Se={class:`bg-white dark:bg-gray-800 rounded-lg shadow p-6`},Ce={class:`h-64 flex items-end space-x-2`},we={class:`w-full bg-gray-200 dark:bg-gray-700 rounded-t`,style:{height:`200px`}},U={class:`mt-2 text-xs text-gray-600 dark:text-gray-400 text-center`},Te={class:`font-medium`},Ee={class:`bg-white dark:bg-gray-800 rounded-lg shadow`},De={class:`p-6`},Oe={class:`space-y-6`},ke={class:`flex justify-between items-start mb-4`},Ae={class:`text-lg font-semibold text-gray-900 dark:text-white`},je={class:`text-sm text-gray-600 dark:text-gray-400`},Me={class:`text-right`},Ne={class:`text-xs text-gray-500 dark:text-gray-400`},Pe={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4`},Fe={class:`text-sm font-medium text-gray-900 dark:text-white mb-2`},Ie={class:`space-y-2`},Le={class:`flex justify-between text-xs text-gray-600 dark:text-gray-400`},Re={class:`w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1`},ze={class:`text-xs text-gray-500 dark:text-gray-400`},Be={key:0,class:`mt-4`},Ve={class:`space-y-2`},He={class:`text-gray-900 dark:text-white`},Ue={class:`text-gray-600 dark:text-gray-400`},We={class:`text-gray-500 dark:text-gray-400`},Ge={class:`text-gray-500 dark:text-gray-400`},Ke={__name:`StorageUtilizationReport`,setup(Ke){let{isDarkMode:W,toggleDarkMode:G}=ie(),K=o(!1),q=o({}),J=o([]),Y=o([]),X=o([]);te(async()=>{await Z()});let Z=async()=>{K.value=!0;try{await Promise.all([qe(),Je(),Ye(),Xe()])}catch(e){console.error(`Error loading utilization data:`,e)}finally{K.value=!1}},qe=async()=>{try{let e=await f.getOverallUtilization();q.value=e.data.data.overall}catch(e){console.error(`Error loading overall utilization:`,e)}},Je=async()=>{try{let e=await f.getRoomUtilization();J.value=e.data.data}catch(e){console.error(`Error loading room utilization:`,e)}},Ye=async()=>{try{let e=await f.getUtilizationTrends();Y.value=e.data.data}catch(e){console.error(`Error loading utilization trends:`,e)}},Xe=async()=>{try{let e=await f.getCapacityAlerts();X.value=e.data.data.alerts}catch(e){console.error(`Error loading capacity alerts:`,e)}},Ze=async()=>{await Z()},Qe=e=>e>=90?`bg-red-100 dark:bg-red-900`:e>=80?`bg-yellow-100 dark:bg-yellow-900`:e>=50?`bg-green-100 dark:bg-green-900`:`bg-gray-100 dark:bg-gray-900`,$e=e=>e>=90?`text-red-600 dark:text-red-400`:e>=80?`text-yellow-600 dark:text-yellow-400`:e>=50?`text-green-600 dark:text-green-400`:`text-gray-600 dark:text-gray-400`,Q=e=>e>=90?`bg-red-500`:e>=80?`bg-yellow-500`:e>=50?`bg-green-500`:`bg-blue-500`,$=e=>e>=90?`text-red-600 dark:text-red-400`:e>=80?`text-yellow-600 dark:text-yellow-400`:e>=50?`text-green-600 dark:text-green-400`:`text-gray-600 dark:text-gray-400`,et=e=>e>=90?`Critical`:e>=80?`Warning`:e>=50?`Good`:`Low`;return(te,o)=>{let f=ne(`router-link`);return i(),t(`div`,ae,[m(`header`,oe,[m(`div`,se,[m(`div`,ce,[m(`div`,{class:c([`flex items-center space-x-4`,{"rtl:space-x-reverse":s(d)}])},[m(`div`,{class:c([`flex items-center space-x-3`,{"rtl:space-x-reverse":s(d)}])},[...o[1]||=[n(`<div class="h-10 w-10 bg-gradient-to-r from-gray-800 to-black rounded-lg flex items-center justify-center"><svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><h1 class="text-xl font-bold text-gray-900 dark:text-white">A &amp; S Cold Storage</h1><p class="text-sm text-gray-600 dark:text-gray-400">Storage Utilization Reports</p></div>`,2)]],2)],2),m(`div`,{class:c([`flex items-center space-x-4`,{"rtl:space-x-reverse":s(d)}])},[ee(f,{to:`/dashboard`,class:`bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 flex items-center`},{default:re(()=>[...o[2]||=[m(`svg`,{class:`w-4 h-4 mr-2`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M10 19l-7-7m0 0l7-7m-7 7h18`})],-1),r(` Back to Dashboard `,-1)]]),_:1}),m(`button`,{onClick:Ze,disabled:K.value,class:`bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center`},[K.value?(i(),t(`svg`,ue,[...o[3]||=[m(`circle`,{class:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,"stroke-width":`4`},null,-1),m(`path`,{class:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`},null,-1)]])):(i(),t(`svg`,de,[...o[4]||=[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15`},null,-1)]])),o[5]||=r(` Refresh `,-1)],8,le),m(`button`,{onClick:o[0]||=(...e)=>s(G)&&s(G)(...e),class:`p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200`},[s(W)?(i(),t(`svg`,g,[...o[7]||=[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z`},null,-1)]])):(i(),t(`svg`,h,[...o[6]||=[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z`},null,-1)]]))])],2)])])]),m(`div`,_,[X.value.length>0?(i(),t(`div`,v,[o[10]||=m(`h2`,{class:`text-xl font-semibold text-gray-900 dark:text-white mb-4`},`Capacity Alerts`,-1),m(`div`,y,[(i(!0),t(p,null,a(X.value,e=>(i(),t(`div`,{key:`${e.room_id}-${e.zone_id||`room`}`,class:c([`p-4 rounded-lg border-l-4`,e.type===`critical`?`bg-red-50 border-red-400 dark:bg-red-900/20 dark:border-red-500`:`bg-yellow-50 border-yellow-400 dark:bg-yellow-900/20 dark:border-yellow-500`])},[m(`div`,b,[m(`div`,x,[e.type===`critical`?(i(),t(`svg`,S,[...o[8]||=[m(`path`,{"fill-rule":`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z`,"clip-rule":`evenodd`},null,-1)]])):(i(),t(`svg`,C,[...o[9]||=[m(`path`,{"fill-rule":`evenodd`,d:`M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z`,"clip-rule":`evenodd`},null,-1)]]))]),m(`div`,w,[m(`p`,T,u(e.message),1),m(`p`,E,` Available space: `+u(e.available_space.toLocaleString())+` baskets `,1)])])],2))),128))])])):e(``,!0),m(`div`,D,[m(`div`,O,[m(`div`,k,[o[12]||=m(`div`,{class:`flex-shrink-0`},[m(`div`,{class:`w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-md flex items-center justify-center`},[m(`svg`,{class:`w-5 h-5 text-blue-600 dark:text-blue-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4`})])])],-1),m(`div`,A,[o[11]||=m(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Total Capacity`,-1),m(`p`,j,u(q.value.total_capacity?.toLocaleString()||0),1)])])]),m(`div`,M,[m(`div`,N,[o[14]||=m(`div`,{class:`flex-shrink-0`},[m(`div`,{class:`w-8 h-8 bg-green-100 dark:bg-green-900 rounded-md flex items-center justify-center`},[m(`svg`,{class:`w-5 h-5 text-green-600 dark:text-green-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),m(`div`,P,[o[13]||=m(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Used Space`,-1),m(`p`,F,u(q.value.total_used?.toLocaleString()||0),1)])])]),m(`div`,I,[m(`div`,L,[o[16]||=m(`div`,{class:`flex-shrink-0`},[m(`div`,{class:`w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-md flex items-center justify-center`},[m(`svg`,{class:`w-5 h-5 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z`})])])],-1),m(`div`,R,[o[15]||=m(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Available Space`,-1),m(`p`,z,u(q.value.total_available?.toLocaleString()||0),1)])])]),m(`div`,B,[m(`div`,V,[m(`div`,H,[m(`div`,{class:c([`w-8 h-8 rounded-md flex items-center justify-center`,Qe(q.value.utilization_percentage)])},[(i(),t(`svg`,{class:c([`w-5 h-5`,$e(q.value.utilization_percentage)]),fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[...o[17]||=[m(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z`},null,-1)]],2))],2)]),m(`div`,fe,[o[18]||=m(`p`,{class:`text-sm font-medium text-gray-600 dark:text-gray-400`},`Utilization`,-1),m(`p`,pe,u(q.value.utilization_percentage||0)+`% `,1)])])])]),m(`div`,me,[m(`div`,he,[o[19]||=m(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white mb-4`},`Room Utilization`,-1),m(`div`,ge,[(i(!0),t(p,null,a(J.value,e=>(i(),t(`div`,{key:e.room_id,class:`space-y-2`},[m(`div`,_e,[m(`span`,ve,u(e.room_name)+` (`+u(e.room_code)+`) `,1),m(`span`,ye,u(e.used.toLocaleString())+` / `+u(e.capacity.toLocaleString()),1)]),m(`div`,be,[m(`div`,{class:c([Q(e.utilization_percentage),`h-2 rounded-full transition-all duration-300`]),style:l({width:`${e.utilization_percentage}%`})},null,6)]),m(`div`,xe,[m(`span`,null,u(e.utilization_percentage)+`% utilized`,1),m(`span`,{class:c($(e.utilization_percentage))},u(et(e.utilization_percentage)),3)])]))),128))])]),m(`div`,Se,[o[20]||=m(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white mb-4`},`Utilization Trends (12 Months)`,-1),m(`div`,Ce,[(i(!0),t(p,null,a(Y.value,e=>(i(),t(`div`,{key:e.month,class:`flex-1 flex flex-col items-center`},[m(`div`,we,[m(`div`,{class:c([Q(e.utilization_percentage),`w-full rounded-t transition-all duration-300`]),style:l({height:`${e.utilization_percentage/100*200}px`})},null,6)]),m(`div`,U,[m(`div`,null,u(e.month_name),1),m(`div`,Te,u(e.utilization_percentage)+`%`,1)])]))),128))])])]),m(`div`,Ee,[o[22]||=m(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[m(`h3`,{class:`text-lg font-semibold text-gray-900 dark:text-white`},`Detailed Room Analysis`)],-1),m(`div`,De,[m(`div`,Oe,[(i(!0),t(p,null,a(J.value,n=>(i(),t(`div`,{key:n.room_id,class:`border border-gray-200 dark:border-gray-700 rounded-lg p-4`},[m(`div`,ke,[m(`div`,null,[m(`h4`,Ae,u(n.room_name)+` (`+u(n.room_code)+`) `,1),m(`p`,je,u(n.total_batches)+` batches • `+u(n.total_baskets)+` baskets `,1)]),m(`div`,Me,[m(`div`,{class:c([$(n.utilization_percentage),`text-sm font-medium`])},u(n.utilization_percentage)+`% utilized `,3),m(`div`,Ne,u(n.available.toLocaleString())+` available `,1)])]),m(`div`,Pe,[(i(!0),t(p,null,a(n.floors,e=>(i(),t(`div`,{key:e.floor_id,class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-3`},[m(`div`,Fe,` Floor `+u(e.floor_number),1),m(`div`,Ie,[m(`div`,Le,[m(`span`,null,`Used: `+u(e.used.toLocaleString()),1),m(`span`,null,u(e.utilization_percentage)+`%`,1)]),m(`div`,Re,[m(`div`,{class:c([Q(e.utilization_percentage),`h-1 rounded-full`]),style:l({width:`${e.utilization_percentage}%`})},null,6)]),m(`div`,ze,` Zones: `+u(e.zones.length),1)])]))),128))]),n.recent_batches&&n.recent_batches.length>0?(i(),t(`div`,Be,[o[21]||=m(`h5`,{class:`text-sm font-medium text-gray-900 dark:text-white mb-2`},`Recent Batches`,-1),m(`div`,Ve,[(i(!0),t(p,null,a(n.recent_batches.slice(0,3),e=>(i(),t(`div`,{key:e.batch_id,class:`flex justify-between items-center text-xs bg-gray-50 dark:bg-gray-700 rounded px-3 py-2`},[m(`span`,He,`#`+u(e.batch_id),1),m(`span`,Ue,u(e.customer_name),1),m(`span`,We,u(e.baskets_count)+` baskets`,1),m(`span`,Ge,u(e.created_at),1)]))),128))])])):e(``,!0)]))),128))])])])]),o[23]||=n(`<footer class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-t border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300 mt-auto"><div class="w-full px-[2%] py-6"><div class="flex flex-col items-center justify-center space-y-2"><div class="flex items-center space-x-2"><div class="h-6 w-6 bg-gradient-to-r from-gray-800 to-black rounded-md flex items-center justify-center"><svg class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><span class="text-sm text-gray-600 dark:text-gray-400">Powered by A &amp; S Cold Storage Management System</span></div><p class="text-xs text-gray-500 dark:text-gray-400">© 2024 A &amp; S Cold Storage Management System. All rights reserved.</p></div></div></footer>`,1)])}}};var W=Ke;export{W as default};